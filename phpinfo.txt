<?php
// 파일을 /var/www/html/phpinfo.php로 저장
phpinfo();
?>


분석과 모니터링이 다르다.

데이터 수집 - 일이 그렇게 되지 않는다.
1시간이 아니라 기술적인 문제가 아니라 여

glue : glue에서 제공하는 스파크로 볼 수 있는 뷰가 따로 있다.
스파크 ui. 여기서 가지고 와야 한다. 시간이라던가, DPU 같은 걸 볼 수 있다. Cloud watch 로그로는 이런 것들이 없다.
x-ray: 어떤 걸 보고 싶으냐에 따라서 다르다.
cloud watch 로그는 이벤트 성만 딱 있어서. 
비용이라던가를 판단하기에는 정보가 없다.
원하는 니즈에 따라서 보고자 하는 것들이 다 다르다. 가장 좋은 건 이런 것들을 가져와서 통합딘 뷰로 

데이터 분석에서 설명이 있어야 한다. 뭘 하겠다는 내용으로 보는 사람이 쉽게 이해해야 한다. ppt에 뭘 한다라는 것을 전달할 수 있어야 한다.
하나만 봐도 다 이해할 수 있게

일단 메가존 빌딩하고 집
집은 ip가 바뀔 수도 있는데. 기본적으로는 사무실 ip가 들어온다. 
내 ip가 자동으로 선택이 된다. 

오브젝트를 만들면 키가 있는 것처럼 보인다.
오브젝트를 딱 하나 만들었는데, 실제로는 오브젝트가 있어서 폴더가 있는 것처럼.
오브젝트를 삭제하면 폴더가 다 삭제된다.
명시해서 만드는 건 나쁘지 않다. -> 고객 입장에서는 당황하지 않는다.
이해 필요.

CSV로 내라는 것도 나쁘지 않다. 실무에서는 PARQUET를 만들어서 스냅샷 주기라던지. 사이즈가 줄=ㄴ다.
데이터가 크지 않으면 의미

랭글러.
AWS에서 공식으로 
판다스를 가지고 와서 가장 많이 쓸 만한 로직들을 

판다스를 잘 활용해보고. 커스텀이 필요하다 판다스. 


모니터링이라던가, 알람이라던가. 일종의 요구사항 명세서 같은 형식으로 작성.
30초 - 비용. 예산. 버짓을 초과하는 액션. 이슈가 있는 것을 파악. 

정리해서. 이런 측면에서 고객의 요구사항이 있었고 모니터링을 하고자 했음. 


[민경]
wbs가 없다. 일정이 나와야 한다.
키네시스 스트림 데이터에서 수집하는 데이터는?
어떤 시간 대에 많이 클릭했는지 파악. 어떤 시간 대에 어떤 것을 클릭.
섞여 있었음. 어떤 걸 수집? 상품 상태 페에지를 하는 건지, 웹 사이트를 위한 전체 페이지를 수집한다는 건지.
어떤 정보를 수집? 유저 정보, 캠페인 id, 그걸 장바구니에 담았는지, 어떤 상품을 봤는지. 
어떤 걸 수집 - 이런 데이터를 수집한다. 
뭘 수집할 건지에 대한 정의도 필요하다.

실제 발표할 때는 진짜 발표한 것처럼.
고객 사분의 리소스 비용 아끼기 위해서 테라폼으로.
테스트할 때는 테라폼으로 진행한다.
진짜 발표할 때는 앉아 있는 사람들이 고객이라고 생각하고 그들 편의에 의해서.

현재 인프라에서 확인했을 때 정상적으로 완료되는 것을 확인했다라고 전달하면 끝이다.

기간 정보는?
일단은 1, 2분기로 해서. 

매번 만들 거냐?
기간 및 시간은 기본이다. 선택이 되게 할 수 있게.
날짜에 대한 부분이 있어야 한다.
날짜가 있어야 추이도 있다.

모든 리포트의 기본은 사실 시간이다.
설문인데, 유입 경로. 
가장 좋은 건. 스트림을 통해서 분석해서는 더 좋겠다. 또 다른 고민. 로그인해서 들어온 유저와 비회원 접속이 있을 텐데, 맵핑하기 위해서는 솔루션을 도입할 필요가 있다.
ip나 브라우저, 쿠키. 맵핑하는 작업을 해서 로그인했을 때의 유저인가 아닌가를 찬파난해서 실제 사용자 id로 전환해서 분석.

설문 - 이렇게 작성하는 게 좋을 듯.


섹터를 구분하자.
데이터의 출처를 확실하게 구분하는 게 좋다.
설문은 참고용이지. 고객이 참고는 하지만, 아닐 수도 있다. 

국가 정보는?
회원 테이블에 있다.
그러면 한국인이 로그인해서 미국에서 구매하면 어떻게 해야 할까?
-> 주소를 파싱해도 좋을지도.

데이터를 어디서 가지고 왔느냐? 어떻게 수집을 했느냐?를 정의해야 한다.

[혜성]
설명을 읽지만 말고 했으면 좋겠다.
효율성 향상을 했는데, 어떤 식으로 할 건지. 
간단하게 설명.
어떤 방식으로 하려고 하는지.

분석하기 좋은 파케이로 압축 - 비용 절감
데이터 파이프라인 구축 - 에러를 모니터링(자동으로 모니터링, 운영적 비용 절감)
줄여서(멘토님)
기존에 있던 CSV 파일을 사이즈를 축소해서 한 다음 운영 비용.
파이프라인을 자동화해서 운영 비용 절감.

스크립트를 간단하게 핵심만 전달할 수 있게 연습.

표현이 어려운 거 같다.

나중에 익숙해지면 최대한 편하게 전달하는 게 내제화. 어떤 식으로 전달할 건지를 연습해야 한다.
발표를 무난하게 하는데. 뭘 이야기하는지 잘 안 와닿는다.

컨테이너 할 때, 어떻게 볼 것인가?
컨테이너 인사이트에서 로그 수집 - 데시보드

백업에 대한 내용이 거의 없다. 
최소한 장표 하나를 빼서 백업에 대한 설명을 해야 한다.
자동으로 하는건지, 수동으로 하는 건지.
하나의 리전에서 크로스 리전에서 하는 건지.
디테일이 있는 최소한의 장표가 필요하다.

사실 코드 자체를 이렇게 할 필요가 없다. 업무 영역이 아니다. 개발자들이 한다. 개발자가 고객사인지, 외주인지는 모르겠지만 그들의 일이다.

일라스틱 캐시?
요건 사항에 정의해 놓은 것이 없다.
서버가 나눠져 있고 에이지 별로 나눠져 있는 상태.
기존의 AWS 네이티브 서비스는 그런 게 없나?

스티키 세션에 대한 내용이 ALB 과부하.
AWS 걱정?

ELK 사용. 반복되는 쿼리(RDS) 캐싱 작업.
스티키 세션을 왜 안 사용?
어느 한 쪽에 트래픽이 몰릴 수 있다.
ECS 방식은 잘 모른다.
어떤 한 녀석만 계속. 한 서버만 계속해서 편중. 그리고 해당하는 서버가 종료되면 세션이 다 날라간다.

사이트가 크지 않으면 굳이 레디스 띄울 필요? 

ECS 동적 포트. 한 번 해봐요. 

PPT - 화면이 바뀐 건지 안 바뀐 건지 모른다. 
혜성 - 준비한 것에 비해서 전달력이 떨어진다.

각각 하나씩 이야기. 이것에 맞는 그림.

본인이 준비한 거를 모른다. 기술인 걸 잘 모르는 사람들은.
너무 표현을 못한다.
동적 포트의 장점 하이라이트 - 왜? 

더 자세하게

좋게 : 표현 못
나쁘게 : 성의 없
잘 전달해야 하는데, 대충,,,

테스크 러닝.
뭐가 좋은지 모른다. 어떤 개선 효과를 얻을 수 있는지.

설명이 없다. 무슨 페이지인지.
내가 무엇을 전달하고 싶은지에 대한 메시지가 없다.

사람을 앉혀놓고 이야기를 할 때는 정확해야 한다.
메시지를 전달하기 위한 준비.
덕지덕지 붙여 놓고 설명해야 한다.
본인이 가지고 있는 걸 포장해야 한다.

발표할 때 상황이 지금 같으면 표현할 때, 일중의 스트레치드 볼.
현재 진행 중인 거. 넥스트 아이템.

실제 할 때는 상용 서비스를 쓴다.
데이터 독같은 거.

일단 이 작업을 왜 하는지.
물어볼 때 디테일을 설명해야 한다.
이게 왜 있는지를 설명한다. 

뭘 등록하는지.
간단하게 설명할 수 있는 데 너무 구구절절 설명한다.

공통 - 이 장표를 통해서 앉아 있는 고객이 어떤 부분을 이해하면 좋을지. 이걸로 이해서 작업한 당사자들이 어떻게 보인이 하이라이트를 받을 수 있는지를
셍각하면서 작성해야 한다. 궁금하면 아까처럼 코드를 보면 된다.

본인 작업일지에 쓰일 만한 내용이지. 무슨 말을 하고 싶은지, 코드 시리즈 쓴다는 게 하고 싶은 말이 명확.


그나마 정리를 했는데, 분류가 안 되어 있다. 안 와닿는다. 
순서로 봤을 때 여기인가? 싶은 거.
경로 정도는 알려주는 게 좋다.

설명이 필요하다.

본인이 한 작업에 대한 설명이 없다. 뭘 했는지 모른다.
지금까지 이야기 했는데, 코드를 보기 전까지는 뭘 했는지를 모른다.

오늘 장표에서는 혜성님이 한 게 하나도 안 보인다.

듣는 사람 입장에서는 죽음이다.
개인 발표. 
하나하나가 공통 영역에 대한 부분이. 

히스토리를 이야기 하자.
공통 발표를 하면 누가 뭘 했는지 모른다.
그 중에서 내가 뭘 했는지를 하이라이팅을 하는 게 중요하다.

전체 장표는 같이 만들자. 같이 한 것. 내가 어떤 부분을 했는지는 따로 만들자.
같은 팀이었구나를 알 수 있도록. WBS부터 전반적인 흐름은 같이. 뒤에 내가 뭘 했는지를 자세하게 붙이자.

특히 혜성의 경우 어떤 작업을 했는지를 리스트 업해야 한다.
자동화 - 워크 플로우 어떻게 하는지.


[건호]
- 이거는 시점이 세일즈 할 때(프리 세일즈할 때, wbs 나오고 다 진행하고 있는 와중. 좀 뜬금없다.
심호흡.

용어 쓸 때, 제안 드립니다. 이렇게. 
우리들은 제안을 해야 하는 상황이다. SA 육성으로 보인다.
컨설턴트 입장에서 고객의 문제를 해결하기 위해 제안을 해야 한다.

제안한다.
이렇게 하는 걸로 제안 드립니다.


하이라이트를 해야 한다.
전반적으로 같이. 전 사이클을 설명.
고객의 핀 포인트가 뭐고 서비스 별로 메시지가 정확하게 전달할 수 있는 장표들.
공통 장표를 만들고. 
깔끔하게.


기대 효과

아키텍처를 그릴 때 정해진 게 없다. 데이터 파이프라인이라고 명시하는 게 좋다.
구분이 되면 좋겠다.


아키텍처에 따라서 순서 바꾸기.

코드는 목적에 안 맞다. 하루하루가 소중. 하루면 20%가 날라간다. 간단한 코드로 떠도 문제가 없다는 거. 

발표를 할 때는 시연할 수 있을지 모른다. 이야기했던 순서대로 캡처.
모든 코드가 필요하지 않다. 
같은 팀이라고 해서 완성도있게.

표현이 잘 안 되어 있다.
그리고 본인이 한 것에 대한 하이라이트가 안 되어 있다.
각각 가지고 있는 장점이 보고 싶은 것인데, 이것도 없고 저것도 없다.
잘 표현.
SA 업무가 실제 프로젝트 수행하고 구축하는 부분도 있지만, 교육에 대한 부분도 있다.
같이 세션도 같이 가져가야 한다. 
대상이 누그냐에 따라서 전달하는 내용이 달라지낟.
C 레벨은 개념적인 - 비즈니스적인 도움.

실무에서는 람다를 작성해서 뭘 할 수 있는지.
교육 과정 중에 평가. 내가 왜 이 발표를 했는지에 대하너 설명 및 포장이 필요하다.


지난 주에는 개념을 잡아왔다.
오늘 구체화 되어 있다.
그때는 전달한 내용이 반영되어 있어야 한다.
팀의 공통 부분을 표현. 


데이터 파이프라인 모니터링
모니터링은 실시간이 최고로 좋다


크롤러가 잘 안 돌아가는 경우
데이터가 너무 작거나, 크롤러를 너무 신뢰하지 말자.
결국은 프로그램이라 자기 기준이 있다. 디테일까지는 알려주는 게 아니다.

결국에는 되고 안 되는 경우도 있다.
데이터가 작을 때 오동작.
파일 단위로 하는 게 좋지 않다. 버킷 경로 단위로.

데이터 웨어 하우스 - 트랜잭션 분석하기 위한 DB(영구적으로) - 용도에 맞겠금 데이터를 만든다. - 데이터 마트로 작게 만들고. 
데이터 베이스 가격이 2배. 감안. 
금융권에서는 정보 분석을 위한 서버가 따로 있다. 실제 필요한 리포트를 만들어야 한다.

클라우드를 쓴다. 작은 회사. s3는 비용 효율적. 성능적으로 좋다. s3 아테나에서 하면 커버하고 비용도 효율적이다.

데이터 파이프라인 
워크 플로으 상에 이슈가 있을 때 airflow라는 걸 쓴다. 
단계 별로 에러. 이벤트를 날린다. 
데이터 파이프라인과 지표 모니터링은 완전히 다르다.
모니터링이라는 표현이 너무 포괄적이다. 
뭘 어떤 기준으로 할 건지. 시나리오 자체가 정리가 되어 있지 않는다.
헷갈리는 것이다.

자동화를 첫 날.
데이터 파이프라인 자동화는 없다. 인지하고 붙이자. 
앞으로는 할 거고 AIRFLOW, STEP FLOW를 하는 게 좋다.

일별로 쌓이면 안 된다.
크롤러는 한 번하고 돌릴 일이 없어야 한다. 파티션 추가를 할 때만 돌린다는 의미.
돌리면 컬럼은 바뀌지 않는다. 
하나 바뀌는 것. 파티션. 변경 사항 있을 때 반영.
메타 데이터, 파티션

신규 생성된 컬럼들을 새로 파티셔닝하는 것. 
날짜 별로 테이블을 만드는 게 아니다.

파티션 - 쿼리할 때 년, 월, 일. 스캔할 때 예상되는 경로만 스캔.

